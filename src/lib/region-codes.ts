// 전국 시/도 → 시/군/구 법정동 코드 (국토교통부 LAWD_CD 5자리)

export interface SidoGroup {
  name: string;
  code: string; // 시도 코드 prefix (2자리)
  regions: Record<string, string>; // 법정동5자리 → 구/군/시 이름
}

export const SIDO_LIST: SidoGroup[] = [
  {
    name: '서울특별시',
    code: '11',
    regions: {
      '11110': '종로구', '11140': '중구', '11170': '용산구',
      '11200': '성동구', '11215': '광진구', '11230': '동대문구',
      '11260': '중랑구', '11290': '성북구', '11305': '강북구',
      '11320': '도봉구', '11350': '노원구', '11380': '은평구',
      '11410': '서대문구', '11440': '마포구', '11470': '양천구',
      '11500': '강서구', '11530': '구로구', '11545': '금천구',
      '11560': '영등포구', '11590': '동작구', '11620': '관악구',
      '11650': '서초구', '11680': '강남구', '11710': '송파구',
      '11740': '강동구',
    },
  },
  {
    name: '부산광역시',
    code: '26',
    regions: {
      '26110': '중구', '26140': '서구', '26170': '동구',
      '26200': '영도구', '26230': '부산진구', '26260': '동래구',
      '26290': '남구', '26320': '북구', '26350': '해운대구',
      '26380': '사하구', '26410': '금정구', '26440': '강서구',
      '26470': '연제구', '26500': '수영구', '26530': '사상구',
      '26710': '기장군',
    },
  },
  {
    name: '대구광역시',
    code: '27',
    regions: {
      '27110': '중구', '27140': '동구', '27170': '서구',
      '27200': '남구', '27230': '북구', '27260': '수성구',
      '27290': '달서구', '27710': '달성군',
    },
  },
  {
    name: '인천광역시',
    code: '28',
    regions: {
      '28110': '중구', '28140': '동구', '28177': '미추홀구',
      '28185': '연수구', '28200': '남동구', '28237': '부평구',
      '28245': '계양구', '28260': '서구', '28710': '강화군',
      '28720': '옹진군',
    },
  },
  {
    name: '광주광역시',
    code: '29',
    regions: {
      '29110': '동구', '29140': '서구', '29155': '남구',
      '29170': '북구', '29200': '광산구',
    },
  },
  {
    name: '대전광역시',
    code: '30',
    regions: {
      '30110': '동구', '30140': '중구', '30170': '서구',
      '30200': '유성구', '30230': '대덕구',
    },
  },
  {
    name: '울산광역시',
    code: '31',
    regions: {
      '31110': '중구', '31140': '남구', '31170': '동구',
      '31200': '북구', '31710': '울주군',
    },
  },
  {
    name: '세종특별자치시',
    code: '36',
    regions: {
      '36110': '세종시',
    },
  },
  {
    name: '경기도',
    code: '41',
    regions: {
      '41111': '수원장안', '41113': '수원권선', '41115': '수원팔달', '41117': '수원영통',
      '41131': '성남수정', '41133': '성남중원', '41135': '성남분당',
      '41150': '의정부시', '41170': '안양만안', '41173': '안양동안',
      '41190': '부천시',
      '41210': '광명시', '41220': '평택시', '41250': '동두천시',
      '41271': '안산상록', '41273': '안산단원',
      '41281': '고양덕양', '41285': '고양일산동', '41287': '고양일산서',
      '41290': '과천시', '41310': '구리시', '41360': '남양주시',
      '41370': '오산시', '41390': '시흥시',
      '41410': '군포시', '41430': '의왕시', '41450': '하남시',
      '41461': '용인처인', '41463': '용인기흥', '41465': '용인수지',
      '41480': '파주시', '41500': '이천시', '41550': '안성시',
      '41570': '김포시', '41590': '화성시', '41610': '광주시',
      '41630': '양주시', '41650': '포천시', '41670': '여주시',
      '41800': '연천군', '41820': '가평군', '41830': '양평군',
    },
  },
  {
    name: '강원특별자치도',
    code: '51',
    regions: {
      '51110': '춘천시', '51130': '원주시', '51150': '강릉시',
      '51170': '동해시', '51190': '태백시', '51210': '속초시',
      '51230': '삼척시',
      '51720': '홍천군', '51730': '횡성군', '51750': '영월군',
      '51760': '평창군', '51770': '정선군', '51780': '철원군',
      '51790': '화천군', '51800': '양구군', '51810': '인제군',
      '51820': '고성군', '51830': '양양군',
    },
  },
  {
    name: '충청북도',
    code: '43',
    regions: {
      '43111': '청주상당', '43112': '청주서원', '43113': '청주흥덕', '43114': '청주청원',
      '43130': '충주시', '43150': '제천시',
      '43720': '보은군', '43730': '옥천군', '43740': '영동군',
      '43745': '증평군', '43750': '진천군', '43760': '괴산군',
      '43770': '음성군', '43800': '단양군',
    },
  },
  {
    name: '충청남도',
    code: '44',
    regions: {
      '44131': '천안동남', '44133': '천안서북',
      '44150': '공주시', '44180': '보령시', '44200': '아산시',
      '44210': '서산시', '44230': '논산시', '44250': '계룡시',
      '44270': '당진시',
      '44710': '금산군', '44760': '부여군', '44770': '서천군',
      '44790': '청양군', '44800': '홍성군', '44810': '예산군',
      '44825': '태안군',
    },
  },
  {
    name: '전북특별자치도',
    code: '52',
    regions: {
      '52111': '전주완산', '52113': '전주덕진',
      '52130': '군산시', '52140': '익산시', '52180': '정읍시',
      '52190': '남원시', '52210': '김제시',
      '52710': '완주군', '52720': '진안군', '52730': '무주군',
      '52740': '장수군', '52750': '임실군', '52770': '순창군',
      '52790': '고창군', '52800': '부안군',
    },
  },
  {
    name: '전라남도',
    code: '46',
    regions: {
      '46110': '목포시', '46130': '여수시', '46150': '순천시',
      '46170': '나주시', '46230': '광양시',
      '46710': '담양군', '46720': '곡성군', '46730': '구례군',
      '46770': '고흥군', '46780': '보성군', '46790': '화순군',
      '46800': '장흥군', '46810': '강진군', '46820': '해남군',
      '46830': '영암군', '46840': '무안군', '46860': '함평군',
      '46870': '영광군', '46880': '장성군', '46890': '완도군',
      '46900': '진도군', '46910': '신안군',
    },
  },
  {
    name: '경상북도',
    code: '47',
    regions: {
      '47111': '포항남구', '47113': '포항북구',
      '47130': '경주시', '47150': '김천시', '47170': '안동시',
      '47190': '구미시', '47210': '영주시', '47230': '영천시',
      '47250': '상주시', '47280': '문경시', '47290': '경산시',
      '47720': '군위군', '47730': '의성군', '47750': '청송군',
      '47760': '영양군', '47770': '영덕군', '47820': '청도군',
      '47830': '고령군', '47840': '성주군', '47850': '칠곡군',
      '47900': '예천군', '47920': '봉화군', '47930': '울진군',
      '47940': '울릉군',
    },
  },
  {
    name: '경상남도',
    code: '48',
    regions: {
      '48121': '창원의창', '48123': '창원성산', '48125': '창원마산합포',
      '48127': '창원마산회원', '48129': '창원진해',
      '48170': '진주시', '48220': '통영시', '48240': '사천시',
      '48250': '김해시', '48270': '밀양시', '48310': '거제시',
      '48330': '양산시',
      '48720': '의령군', '48730': '함안군', '48740': '창녕군',
      '48820': '고성군', '48840': '남해군', '48850': '하동군',
      '48860': '산청군', '48870': '함양군', '48880': '거창군',
      '48890': '합천군',
    },
  },
  {
    name: '제주특별자치도',
    code: '50',
    regions: {
      '50110': '제주시', '50130': '서귀포시',
    },
  },
];

// 플랫 맵 (기존 호환)
export const REGION_CODES: Record<string, string> = {};
for (const sido of SIDO_LIST) {
  for (const [code, name] of Object.entries(sido.regions)) {
    // 시/도 이름 prefix 추가 (동명 구분: 부산 중구 vs 대구 중구)
    const sidoShort = sido.name.replace(/특별자치시|특별자치도|특별시|광역시|도$/g, '');
    const fullName = sido.code === '11' ? name : `${sidoShort} ${name}`;
    REGION_CODES[code] = fullName;
  }
}

export const NAME_TO_CODE: Record<string, string> = Object.fromEntries(
  Object.entries(REGION_CODES).map(([code, name]) => [name, code])
);

// 시/도 코드 prefix → 시/도 이름
export const SIDO_MAP: Record<string, string> = Object.fromEntries(
  SIDO_LIST.map(s => [s.code, s.name])
);

// 지역코드로 시/도 찾기
export function getSidoByCode(code: string): SidoGroup | undefined {
  const prefix = code.slice(0, 2);
  return SIDO_LIST.find(s => s.code === prefix);
}

// 시/도별 지역코드 목록
export function getRegionsBySido(sidoCode: string): Record<string, string> {
  const sido = SIDO_LIST.find(s => s.code === sidoCode);
  return sido?.regions ?? {};
}

export const POPULAR_REGIONS = [
  { code: '11680', name: '강남구' },
  { code: '11650', name: '서초구' },
  { code: '11710', name: '송파구' },
  { code: '11440', name: '마포구' },
  { code: '26350', name: '부산 해운대구' },
  { code: '41135', name: '경기 성남분당' },
  { code: '28185', name: '인천 연수구' },
  { code: '50110', name: '제주 제주시' },
];
